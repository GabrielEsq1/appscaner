"use strict";(()=>{var vo=Object.defineProperty;var i=(M,P)=>vo(M,"name",{value:P,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5571],{1314:(M,P,y)=>{y.d(P,{N:()=>k,x:()=>w});var l=y(34782);let S=null;(async function(){await l.x,u()})();function k(d){w(f(d))}i(k,"announceFromElement");function w(d){!S||(S.textContent="",S.textContent=d)}i(w,"announce");function u(){S=document.createElement("div"),S.setAttribute("aria-live","polite"),S.classList.add("sr-only"),document.body.append(S)}i(u,"createNoticeContainer");function f(d){return(d.getAttribute("aria-label")||d.innerText||"").trim()}i(f,"getTextContent")},74030:(M,P,y)=>{y.d(P,{I3:()=>l,h5:()=>k,on:()=>w,yn:()=>u});function l(){if(S("dark"))return"dark";if(S("light"))return"light"}i(l,"getPreferredColorMode");function S(f){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${f})`).matches}i(S,"prefersColorScheme");function k(f){const d=document.querySelector("html[data-color-mode]");!d||d.setAttribute("data-color-mode",f)}i(k,"setClientMode");function w(f,d){const c=document.querySelector("html[data-color-mode]");!c||c.setAttribute(`data-${d}-theme`,f)}i(w,"setClientTheme");function u(f){const d=document.querySelector("html[data-color-mode]");if(!!d)return d.getAttribute(`data-${f}-theme`)}i(u,"getClientTheme")},5909:(M,P,y)=>{var l=y(13002),S=y(88309),k=y(59753);(0,k.on)("tab-container-changed",".js-branches-tags-tabs",async function(w){const u=w.detail.relatedTarget,f=w.currentTarget;if(!f)return;let d,c;for(const m of f.querySelectorAll("[data-controls-ref-menu-id]")){if(!(m instanceof l.Z||m instanceof S.Z))return;const v=m.getAttribute("data-controls-ref-menu-id"),R=u.id===v;m.hidden=!R,R?c=m:d||(d=m.input?m.input.value:"")}const b=c&&c.input;b&&(c&&d!==void 0&&(b.value=d),b.focus())}),(0,k.on)("click",".js-onboarding-list-all",function(w){w.preventDefault();const u=document.querySelectorAll(".js-task-list-hide-on-breadcrumb"),f=document.querySelectorAll(".js-task-list-show-on-breadcrumb");for(const d of u)d.hidden=!0;for(const d of f)d.hidden=!1})},9783:(M,P,y)=>{var l=y(90420),S=Object.defineProperty,k=Object.getOwnPropertyDescriptor,w=i((f,d,c,b)=>{for(var m=b>1?void 0:b?k(d,c):d,v=f.length-1,R;v>=0;v--)(R=f[v])&&(m=(b?R(d,c,m):R(m))||m);return b&&m&&S(d,c,m),m},"__decorateClass");let u=i(class extends HTMLElement{connectedCallback(){this.submitButton.disabled=!0,this.toggleSpecificOptions()}enableForm(){this.submitButton.disabled=!1}toggleSpecificOptions(){this.selectRadio.checked?this.specificOptions.hidden=!1:this.specificOptions.hidden=!0}},"ActionsPolicyFormElement");w([l.fA],u.prototype,"specificOptions",2),w([l.fA],u.prototype,"submitButton",2),w([l.fA],u.prototype,"selectRadio",2),u=w([l.Ih],u)},18589:(M,P,y)=>{var l=y(90420),S=y(34782),k=Object.defineProperty,w=Object.getOwnPropertyDescriptor,u=i((h,j,q,A)=>{for(var x=A>1?void 0:A?w(j,q):j,H=h.length-1,O;H>=0;H--)(O=h[H])&&(x=(A?O(j,q,x):O(x))||x);return A&&x&&k(j,q,x),x},"__decorateClass");let f=i(class extends HTMLElement{async connectedCallback(){await S.x,this.selectRunnerPlatform(),this.customImageUriInput.onkeydown=h=>h.stopPropagation()}selectRunnerPlatform(){const h=this.getSelectedPlatform();if(this.customImageUriInput.required=h==="custom",this.machineSpecsDropdown){const j=this.getSelectedImageVersion(h);this.machineSpecsDropdown.updateOptionsVisibility(h,j)}}getSelectedPlatform(){const h=this.platforms.find(j=>j.checked);return h?h.value:"linux-x64"}getSelectedImageVersion(h){var j;return(j=this.imageVersions.find(q=>q.platform===h&&q.checked))!=null?j:this.imageVersions[0]}},"RunnerImageElement");u([l.GO],f.prototype,"platforms",2),u([l.GO],f.prototype,"imageVersions",2),u([l.fA],f.prototype,"customImageUriInput",2),u([l.fA],f.prototype,"machineSpecsDropdown",2),f=u([l.Ih],f);let d=i(class extends HTMLElement{updateOptionsVisibility(h,j){for(const A of this.items)A.setVisibility(h,j);this.updateTabsVisibility();let q=this.getSelectedItem();if(!q||!q.visible){const A=this.getFirstVisibleItem();A==null||A.selectItem(),q=A}q&&this.selectTabByType(q.type)}updateTabsVisibility(){let h=0;for(const j of this.tabs){const q=this.items.some(A=>A.type===j.type&&A.visible);h+=q?1:0,j.setVisibility(q)}this.tabsHeader&&(this.tabsHeader.hidden=h<2)}selectTabByType(h){const j=this.tabs.find(q=>q.type===h);j==null||j.selectTab()}getSelectedItem(){return this.items.find(h=>h.checked)}getFirstVisibleItem(){return this.items.find(h=>h.visible)}},"MachineSpecsDropdownElement");u([l.GO],d.prototype,"tabs",2),u([l.GO],d.prototype,"items",2),u([l.fA],d.prototype,"tabsHeader",2),d=u([l.Ih],d);let c=i(class extends HTMLElement{selectTab(){this.clickArea.click()}setVisibility(h){this.hidden=!h}},"MachineSpecsTabElement");u([l.fA],c.prototype,"clickArea",2),u([l.Lj],c.prototype,"type",2),c=u([l.Ih],c);let b=i(class extends HTMLElement{constructor(){super(...arguments);this.storageGb=0}get checked(){return this.checkbox.checked}get visible(){return!this.hidden}selectItem(){this.checkbox.click()}setVisibility(h,j){this.hidden=!this.shouldBeVisible(h,j)}shouldBeVisible(h,j){return!((h==="win-x64"||h==="linux-x64")&&this.type==="gpu_optimized"||this.storageGb<j.imageSizeGb)}},"MachineSpecsItemElement");u([l.fA],b.prototype,"checkbox",2),u([l.Lj],b.prototype,"storageGb",2),u([l.Lj],b.prototype,"type",2),b=u([l.Ih],b);let m=i(class extends HTMLElement{constructor(){super(...arguments);this.imageSizeGb=0}get checked(){return this.checkbox.checked}},"RunnerImageVersionElement");u([l.fA],m.prototype,"checkbox",2),u([l.Lj],m.prototype,"imageSizeGb",2),u([l.Lj],m.prototype,"platform",2),m=u([l.Ih],m);var v=y(1314),R=Object.defineProperty,z=Object.getOwnPropertyDescriptor,_=i((h,j,q,A)=>{for(var x=A>1?void 0:A?z(j,q):j,H=h.length-1,O;H>=0;H--)(O=h[H])&&(x=(A?O(j,q,x):O(x))||x);return A&&x&&R(j,q,x),x},"custom_hosted_runners_scaling_decorateClass");const ne=document.querySelector("input[name='min_runner_count']"),re=document.querySelector("input[name='min_runner_count']");let E=i(class extends HTMLElement{disableSubmitButton(){const h=document.querySelector(".js-submit-custom-hosted-runner-button");h.disabled=!0}enableSubmitButton(){const h=document.querySelector(".js-submit-custom-hosted-runner-button");h.disabled=!1}minGreaterThanMax(){return+this.minInput.value>+this.maxInput.value}validateMin(){if(this.resetMinState(),!this.minInput.value)return;const h=+this.minInput.value,j=parseInt(re.max),q=parseInt(re.min);if(this.minGreaterThanMax()||(this.maxGreaterThanMinErrorMessage.hidden=!0,this.maxTooLowErrorMessage.hidden===!0&&this.maxTooHighErrorMessage.hidden===!0&&(this.maxGroup.classList.remove("errored"),this.enableSubmitButton())),this.minGreaterThanMax()){this.minGroup.classList.add("errored"),this.minGreaterThanMaxErrorMessage.hidden=!1,(0,v.N)(this.minNote),this.disableSubmitButton();return}if(h<q){this.minGroup.classList.add("errored"),this.minNegativeErrorMessage.hidden=!1,(0,v.N)(this.minNote),this.disableSubmitButton();return}if(h>j){this.minGroup.classList.add("errored"),this.minTooHighErrorMessage.hidden=!1,(0,v.N)(this.minNote),this.disableSubmitButton();return}}validateMax(){if(this.resetMaxState(),!this.maxInput.value)return;const h=+this.maxInput.value,j=parseInt(ne.max),q=parseInt(ne.min);if(this.minGreaterThanMax()||(this.minGreaterThanMaxErrorMessage.hidden=!0,this.minNegativeErrorMessage.hidden===!0&&this.minTooHighErrorMessage.hidden===!0&&(this.minGroup.classList.remove("errored"),this.enableSubmitButton())),this.minGreaterThanMax()){this.maxGroup.classList.add("errored"),this.maxGreaterThanMinErrorMessage.hidden=!1,(0,v.N)(this.maxNote),this.disableSubmitButton();return}if(h<q){this.maxGroup.classList.add("errored"),this.maxTooLowErrorMessage.hidden=!1,(0,v.N)(this.maxNote),this.disableSubmitButton();return}if(h>j){this.maxGroup.classList.add("errored"),this.maxTooHighErrorMessage.hidden=!1,(0,v.N)(this.maxNote),this.disableSubmitButton();return}}resetMinState(){this.minGreaterThanMaxErrorMessage.hidden=!0,this.minNegativeErrorMessage.hidden=!0,this.minTooHighErrorMessage.hidden=!0,this.minGroup.classList.remove("errored"),this.enableSubmitButton()}resetMaxState(){this.maxGreaterThanMinErrorMessage.hidden=!0,this.maxTooHighErrorMessage.hidden=!0,this.maxTooLowErrorMessage.hidden=!0,this.maxGroup.classList.remove("errored"),this.enableSubmitButton()}},"RunnerScalingElement");_([l.fA],E.prototype,"minInput",2),_([l.fA],E.prototype,"minGroup",2),_([l.fA],E.prototype,"minGreaterThanMaxErrorMessage",2),_([l.fA],E.prototype,"minNegativeErrorMessage",2),_([l.fA],E.prototype,"minTooHighErrorMessage",2),_([l.fA],E.prototype,"minNote",2),_([l.fA],E.prototype,"maxInput",2),_([l.fA],E.prototype,"maxGroup",2),_([l.fA],E.prototype,"maxGreaterThanMinErrorMessage",2),_([l.fA],E.prototype,"maxTooLowErrorMessage",2),_([l.fA],E.prototype,"maxTooHighErrorMessage",2),_([l.fA],E.prototype,"maxNote",2),E=_([l.Ih],E)},7745:(M,P,y)=>{var l=y(59753);(0,l.on)("change",".js-profile-editable-pronouns-select",function(){const S=document.querySelector(".js-profile-editable-pronouns-select"),k=document.querySelector(".js-profile-editable-pronouns-custom"),w=k.getAttribute("data-initial-value");S.value==="Custom"?([...S.options].find(u=>u.value===w)?k.value="":k.value=w,k.hidden=!1,k.focus()):(k.value=S.value,k.hidden=!0)})},47267:(M,P,y)=>{var l=y(78694),S=y(59753);const k="SELECTED";(0,S.on)("details-menu-selected",".js-runner-group-component-visibility-menu",function(u){const f=u.detail.relatedTarget,d=f.closest(".js-runner-group-form"),c=f.getAttribute("value");d.querySelector(".js-runner-group-targets-selection").hidden=c!==k,d.querySelector(".js-runner-group-targets-count").hidden=c!==k},{capture:!0}),(0,S.on)("details-menu-selected",".js-runner-group-component-workflow-menu",function(u){const f=u.detail.relatedTarget,d=f.closest(".js-runner-group-form"),c=f.getAttribute("value");d.querySelector(".js-runner-group-workflow-selection").hidden=c!==k,d.querySelector(".js-runner-group-workflow-count").hidden=c!==k},{capture:!0}),(0,S.on)("details-dialog-close",".dialog-visibility",function(u){const f=u.target.closest("selected-item-list");if(!!f){for(const d of f.items)d.checked=d.defaultChecked;f.updateCount()}}),(0,S.on)("click",".js-btn-select-items.visibility-targets",function(u){const f=u.target.closest("details-dialog"),d=u.target.closest("selected-item-list");if((0,l.T)(f))for(const b of d.items)b.defaultChecked=b.checked;f.toggle(!1),d.querySelector("selected-item-count").updateCount(Number(d.selectedCount.textContent))}),(0,S.on)("click",".js-btn-select-items.workflow-refs",function(u){const f=u.target.closest("details-dialog"),d=u.target.closest("selected-item-list"),c=f.querySelector(".js-runner-group-workflow-selection textarea");c.defaultValue=c.value,f.toggle(!1);const b=new Set(c.value.match(/[^,\s]+/g)).size;d.querySelector("selected-item-count").updateCount(b)});function w(u){function f(){const d=u.value===u.defaultValue,c=u.closest("form").querySelector(".js-btn-select-items.workflow-refs");d?c==null||c.setAttribute("disabled","disabled"):c==null||c.removeAttribute("disabled"),u.setCustomValidity(d?"unchanged":"")}i(f,"customValidity"),u.hasAttribute("data-uninitialized")&&(u.addEventListener("change",f),u.addEventListener("input",f),u.removeAttribute("data-uninitialized"))}i(w,"installTextAreaChangeListeners"),(0,S.on)("toggle",".details-dialog-workflow",function(u){const f=u.currentTarget,d=f.querySelector(".js-runner-group-workflow-selection textarea");f.open?w(d):d.value=d.defaultValue},{capture:!0})},57443:(M,P,y)=>{y.d(P,{dY:()=>c,iU:()=>d,oq:()=>f});const l=new WeakMap;function S(b){const m=l.get(b);!m||(m.timer!=null&&clearTimeout(m.timer),m.timer=window.setTimeout(()=>{m.timer!=null&&(m.timer=null),m.inputed=!1,m.listener.call(null,b)},m.wait))}i(S,"schedule");function k(b){const m=b.currentTarget,v=l.get(m);!v||(v.keypressed=!0,v.timer!=null&&clearTimeout(v.timer))}i(k,"onKeydownInput");function w(b){const m=b.currentTarget,v=l.get(m);!v||(v.keypressed=!1,v.inputed&&S(m))}i(w,"onKeyupInput");function u(b){const m=b.currentTarget,v=l.get(m);!v||(v.inputed=!0,v.keypressed||S(m))}i(u,"onInputInput");function f(b,m,v={wait:null}){l.set(b,{keypressed:!1,inputed:!1,timer:void 0,listener:m,wait:v.wait!=null?v.wait:100}),b.addEventListener("keydown",k),b.addEventListener("keyup",w),b.addEventListener("input",u)}i(f,"addThrottledInputEventListener");function d(b,m){b.removeEventListener("keydown",k),b.removeEventListener("keyup",w),b.removeEventListener("input",u);const v=l.get(b);v&&(v.timer!=null&&v.listener===m&&clearTimeout(v.timer),l.delete(b))}i(d,"removeThrottledInputEventListener");function c(b){const m=l.get(b);m&&m.listener.call(null,b)}i(c,"dispatchThrottledInputEvent")},21917:(M,P,y)=>{var l=y(90420),S=Object.defineProperty,k=Object.getOwnPropertyDescriptor,w=i((e,t,o,s)=>{for(var n=s>1?void 0:s?k(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&S(t,o,n),n},"__decorateClass");let u=i(class extends HTMLElement{togglePopover(){this.popover.hidden=!this.popover.hidden}},"ActionsPolicyPopoverElement");w([l.fA],u.prototype,"popover",2),u=w([l.Ih],u);var f=y(9783),d=y(40728),c=y(59753);(0,c.on)("click",".js-actions-runner-platform-radio",function(e){const t=e.target,o=t.closest(".js-actions-runner-instructions"),s=o.querySelector(".js-actions-runner-architecture-menu"),n=t.getAttribute("data-download-os"),r=s.getAttribute("data-default-architecture");for(const a of s.querySelectorAll("[data-download-os]")){const g=a.getAttribute("data-download-os");a.hidden=g!==n,g===n&&a.getAttribute("data-download-architecture")===r&&a.click()}o.querySelector(".js-actions-runner-windows-instructions").hidden=n!=="win",o.querySelector(".js-actions-runner-unix-instructions").hidden=n==="win",b("os",n)},{capture:!0}),(0,c.on)("details-menu-selected",".js-actions-runner-architecture-menu",function(e){const t=e.detail.relatedTarget,o=t.closest(".js-actions-runner-instructions"),s=t.getAttribute("data-download-url"),n=t.getAttribute("data-download-filename"),r=t.getAttribute("data-download-token"),a=t.getAttribute("data-download-hash");for(const p of o.querySelectorAll(".js-action-runner-url"))p.textContent=s;for(const p of o.querySelectorAll(".js-action-runner-filename"))p.textContent=n;for(const p of o.querySelectorAll(".js-action-runner-token"))p.textContent=r;for(const p of o.querySelectorAll(".js-action-runner-hash"))p.textContent=a;const g=t.getAttribute("data-download-architecture");b("arch",g)},{capture:!0});function b(e,t){const o=new URLSearchParams(window.location.search);o.set(e,t);const s=new URL(window.location.href,window.location.origin);s.search=o.toString(),(0,d.lO)((0,d.y0)(),"",s.toString())}i(b,"updateUrlParams");var m=y(52660),v=y(34782);async function R(e){const t=document.querySelector(".js-ghas-entity-list-container");if(t==null)return;const o=t.querySelector("[data-show-on-error]"),s=t.querySelector("[data-loading]"),n=t.querySelector("[data-content-container]");if(n==null){z(o,s,n);return}let r=t.getAttribute("data-src");if(r==null){z(o,s,n);return}if(e!==void 0){const g=new URL(r,window.origin);g.pathname=g.pathname.replace(/\d+$/,e.toString());const p=g.toString();if(r===p)return;r=p;const L=t.querySelector(".js-advanced-security-entities-pagination");L&&(L.hidden=!0);const T=t.querySelector("[data-pager-loading]");T&&T.removeAttribute("hidden")}else if(n.children.length>0)return;let a;try{a=await(0,m.a)(document,r)}catch{z(o,s,n);return}if(!a){z(o,s,n);return}s&&(s.hidden=!0),n.innerHTML="",n.appendChild(a)}i(R,"retrieveAdvancedSecurityEntities");function z(e,t,o){e&&(e.hidden=!1),t&&(t.hidden=!0),o&&(o.innerHTML="")}i(z,"handleErrorState"),(async()=>(await v.x,R()))(),document.addEventListener("pjax:end",function(){R()}),window.addEventListener("popstate",function(e){e.state===null&&R(1)}),window.addEventListener("statechange",function(){const e=parseInt(new URLSearchParams(document.location.search).get("advanced_security_entities_page")||"");isNaN(e)||R(e)}),(0,c.on)("click",".js-advanced-security-entities-pagination a",function(e){if(e==null||e.target==null)return;const t=e.target.href,o=new URL(t,window.origin),s=new URLSearchParams(document.location.search);for(const[n,r]of s)o.searchParams.has(n)||o.searchParams.append(n,r);(0,d.qA)(null,"",o.toString()),e.preventDefault()});var _=y(74030),ne=Object.defineProperty,re=Object.getOwnPropertyDescriptor,E=i((e,t,o,s)=>{for(var n=s>1?void 0:s?re(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&ne(t,o,n),n},"appearance_form_element_decorateClass");let h=i(class extends HTMLElement{modeSelectChange(e){const o=e.currentTarget.value,s=this.activatePanel(o);this.activateForm(s)}activatePanel(e){let t;for(const o of this.modePanels){const s=this.modePanels.length>1?o.getAttribute("data-mode-panel")!==e:!1;if(o.hidden=s,!s){const n=o.querySelector("form");n&&(t=n)}}return t}activateForm(e){const t=e.querySelectorAll('input[type="radio"]:checked');if(t.length===0){const o=(0,_.I3)(),s=(0,_.yn)(o),n=e.querySelector(`input[value=${s}]`);n&&(n.checked=!0,this.changeTheme(n))}else for(const o of t)this.changeTheme(o);e.dispatchEvent(new Event("submit"))}themeClicked(e){const t=e.currentTarget;this.changeTheme(t)}changeTheme(e){this.statusReset();const t=e.value,o=e.getAttribute("data-type"),s=e.getAttribute("data-mode");t&&o&&s&&((0,_.h5)(s),(0,_.on)(t,o))}async saveTheme(e){e.preventDefault(),this.loading();const t=e.currentTarget,o=new FormData(t);(await fetch(t.action,{method:t.method,body:o,headers:{"X-Requested-With":"XMLHttpRequest"}})).status===200?this.saved():this.errored()}statusReset(){this.saveMessage.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed")}loading(){this.statusReset(),this.saveMessage.classList.add("status-indicator-loading")}saved(){this.statusReset(),this.saveMessage.classList.add("status-indicator-success")}errored(){this.statusReset(),this.saveMessage.classList.add("status-indicator-failed")}},"AppearanceFormElement");E([l.fA],h.prototype,"saveMessage",2),E([l.GO],h.prototype,"modePanels",2),h=E([l.Ih],h);var j=Object.defineProperty,q=Object.getOwnPropertyDescriptor,A=i((e,t,o,s)=>{for(var n=s>1?void 0:s?q(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&j(t,o,n),n},"appearance_preview_element_decorateClass");let x=i(class extends HTMLElement{connectedCallback(){this.checkActive(),window.matchMedia(`(prefers-color-scheme: ${this.getAttribute("data-mode")})`).addEventListener("change",()=>this.checkActive())}themePreview(e){const t=e.currentTarget;if(!t)return;const o=t.getAttribute("data-theme");for(const s of this.themePreviews)s.hidden=s.getAttribute("data-theme")!==o}previewReset(){const t=this.boxElement.querySelector("input:checked").value;for(const o of this.themePreviews)o.hidden=o.getAttribute("data-theme")!==t}checkActive(){this.getAttribute("data-mode")===(0,_.I3)()?(this.boxElement.classList.add("Box--blue"),this.activeLabel.hidden=!1):(this.boxElement.classList.remove("Box--blue"),this.activeLabel.hidden=!0)}},"AppearancePreviewElement");A([l.fA],x.prototype,"boxElement",2),A([l.fA],x.prototype,"activeLabel",2),A([l.GO],x.prototype,"themePreviews",2),x=A([l.Ih],x);var H=y(46263),O=y(84570),C=y(65935),B=y(82036);(0,C.AC)(".js-app-bgcolor-form",async function(e,t){const o=e.querySelector(".js-app-bgcolor-save-notice");if(!o)return;let s;try{s=await t.html()}catch{o.classList.remove("visible")}s&&(o.classList.add("visible"),setTimeout(()=>o.classList.remove("visible"),1500))});function pe(e,t){const o=e.querySelector(".js-app-logo-with-bgcolor");o instanceof HTMLElement&&(o.style.backgroundColor=`#${t}`)}i(pe,"updateLogoBackgroundColor");function ft(e,t){t.checkValidity()&&(0,B.Bt)(e)}i(ft,"saveLogoBackgroundColor"),(0,O.q6)(".js-app-bgcolor-input",function(e){const t=e.target;if(!(t instanceof HTMLInputElement))return;const o=t.closest("form"),s=t.value.replace(/^#/,"");if(s.length<1){t.classList.remove("color-fg-danger"),pe(o,t.defaultValue);return}t.checkValidity()?(t.classList.remove("color-fg-danger"),pe(o,s),o.classList.contains("js-app-bgcolor-form")&&(0,H.D)(()=>ft(o,t),400)()):(t.classList.add("color-fg-danger"),pe(o,t.defaultValue))});var F=y(64463);function J(){return document.querySelectorAll(".js-selected-repository-field")}i(J,"selectedRepositories");function ht(){const e=document.querySelector(".js-integrations-install-form");if(e instanceof HTMLFormElement){const t=+(e.getAttribute("data-max-repos")||0);return t>0&&J().length>=t}}i(ht,"isMaxRepositoriesSelected");function ie(){const e=document.querySelector("#repository-menu-list"),t=Array.from(J()).map(n=>n.value);let o=!1;for(const n of e.querySelectorAll("[role=menuitem]")){const r=t.includes(n.value);!o&&!r&&(o=!0),n.hidden=r}const s=e.querySelector(".js-no-repository-found");s instanceof HTMLElement&&(s.hidden=o)}i(ie,"toggleRepoVisibilityFromResults");function ce(){const e=document.querySelector(".js-select-repositories-radio");if(!e)return;const t=!e.checked||J().length>0;Ee("js-integrations-install-form-submit",t),Ee("js-integrations-install-form-cancel",!0)}i(ce,"updateFormValidity");function Ee(e,t){const o=document.querySelector(`.${e}`);o&&o instanceof HTMLButtonElement&&o.disabled===t&&(o.disabled=!t)}i(Ee,"toggleEnable");function gt(){const e=document.querySelector(".js-select-repositories-radio"),t=document.querySelector(".js-integrations-install-repo-selection");!e||t.classList.toggle("has-removed-contents",!e.checked)}i(gt,"toggleRepoSelectionSection");function Te(){const e=J().length,t=document.querySelector(".js-integration-total-repos");t.hidden=e===0,t.textContent=`Selected ${e} ${e===1?"repository":"repositories"}.`}i(Te,"updateRepositoriesSelectedCopy"),(0,F.N7)(".js-apps-install-select-repositories-container remote-input",e=>{e.addEventListener("remote-input-success",ie),e.addEventListener("remote-input-error",ie)}),(0,c.on)("details-menu-selected",".js-apps-install-select-repositories-menu",function(e){const t=e.detail.relatedTarget,o=document.querySelector(".js-integrations-install-repo-picked"),s=t.querySelector("template").content.cloneNode(!0);o.prepend(s),document.querySelector(".js-min-repository-error").hidden=!0,document.querySelector(".js-max-repository-warning").hidden=!ht(),Te(),ce(),ie()},{capture:!0}),(0,c.on)("change",".js-integrations-install-form",ce),(0,c.on)("change",".js-user-programmatic-access-form",ce),(0,c.on)("click",".js-repository-picker-remove",function(e){e.currentTarget.closest(".js-repository-picker-result").remove(),document.querySelector(".js-min-repository-error").hidden=J().length>0,Te(),ce(),ie()}),(0,c.on)("change",".js-installation-repositories-radio",gt),(0,c.on)("click",".js-integrations-install-form-cancel",function(){window.location.reload()});var Ce=y(69567),K=y(10900);async function yt(e){const t=e.currentTarget;e.preventDefault(),Ie(t)}i(yt,"submitAndUpdate");async function Ie(e){const t=await fetch(e.action,{method:e.method,body:new FormData(e),headers:{Accept:"text/fragment+html"}});if(t.status>=400){const o="An unknown error occurred.",s=document.querySelector("template.js-flash-template");s.after(new Ce.R(s,{className:"flash-error",message:o}))}else{const o=e.closest("[data-replace-remote-form-target]"),s=(0,K.r)(document,await t.text());o.replaceWith(s)}}i(Ie,"submitAndUpdateForm"),(0,c.on)("submit",".js-dependabot-selected-repos-remove-form",yt),(0,c.on)("auto-complete-change",".js-dependabot-selected-repos-add-auto-complete",function(e){const t=e.target;if(!t.value)return;const o=t.querySelector(".js-dependabot-selected-repos-add-input");o.value=t.value,t.value="";const s=t.closest("form");Ie(s)}),(0,O.w4)("keydown",".js-dependabot-selected-repos-add-search",function(e){e.key==="Enter"&&e.preventDefault()}),(0,F.N7)(".js-email-global-unsubscribe-form",function(e){e.querySelector(".js-email-global-unsubscribe-submit").disabled=!0}),(0,c.on)("change",".js-email-global-unsubscribe-form",function(e){const t=e.currentTarget,o=t.querySelector(".js-email-global-unsubscribe-submit"),s=t.querySelectorAll(".js-email-global-unsubscribe"),n=Array.from(s).some(r=>r.checked!==r.defaultChecked);o.disabled=!n}),(0,C.AC)(".js-email-unsubscribe-form",async function(e,t){await t.text();for(const o of document.querySelectorAll(".js-email-unsubscribe-message"))o instanceof HTMLElement&&(o.hidden=!o.hidden)});function Me(e,t,o){const s=e.split(t);return s[s.length-1]=o,s.join(t)}i(Me,"replaceEndWith");function Pe(e){const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url");if(o.length!==0)for(const n of o)e?n.classList.add("required"):n.classList.remove("required")}i(Pe,"markCallbackUrlsRequired"),(0,c.on)("change","input.js-application-callback-url-field, input.js-hook-url-field",function({currentTarget:e}){let t=e.id;t=Me(t,"_","_destroy");const o=document.getElementById(t);o instanceof HTMLInputElement&&(e.value===""?o.value="true":o.value="false")}),(0,c.on)("click",".js-add-application-callback-url",function(e){e.preventDefault();const t=document.querySelector(".js-application-callback-urls");if(!t)return;const o=t.querySelectorAll(".js-application-callback-url"),s=o.length;if(s===0)return;const n=o[s-1],r=n.cloneNode(!0);if(!(r instanceof HTMLElement))return;let a=t.getAttribute("data-index");a===null&&(a="0");const g=(parseInt(a,10)+1).toString();t.setAttribute("data-index",g);const p=r.querySelector("label");if(!p)return;const L=p.getAttribute("for");p.setAttribute("for",L.replace(/\d+/,a));const T=r.querySelector("input");!T||(T.id=T.id.replace(/\d+/,a),T.name=T.name.replace(/\d+/,a),T.value="",n.insertAdjacentElement("afterend",r))}),(0,c.on)("click",".js-delete-application-callback-url",function(e){e.preventDefault();const o=e.currentTarget.closest(".js-application-callback-url");if(!o)return;const s=o.querySelector("input");if(!s)return;const n=document.querySelector(".js-application-callback-urls");if(!n)return;n.querySelectorAll(".js-application-callback-url").length>1?o.remove():s.value="";let a=s.id;a=Me(a,"_","_destroy");const g=document.getElementById(a);g instanceof HTMLInputElement&&(g.value="true")});function De(){return document.querySelector("input.js-edit-integration-setup-url")}i(De,"setupUrlField");function bt(){return De().closest(".form-group").querySelector(".js-setup-url-hint")}i(bt,"setupUrlHint");function Re(){return document.querySelector(".js-help-text-for-redirect-on-update")}i(Re,"helpTextForRedirectOnUpdate");function Oe(e){e&&(bt().textContent=e)}i(Oe,"updateSetupUrlHint"),(0,c.on)("change",".js-edit-integration-request-oauth-on-install",function(e){const t=e.target,o=De();if(t.checked){Pe(!0),o.disabled=!0,o.placeholder=o.getAttribute("data-hint-unavailable-when-install")||"";const s=o.getAttribute("data-hint-same-as-callback-url")||"";Oe(s);const n=Re();n.textContent=n.getAttribute("data-hint-redirect-on-update-callback-url")||""}else{Pe(!1),o.disabled=!1,o.placeholder="",o.value=o.getAttribute("data-setup-url")||"";const s=o.getAttribute("data-hint-setup-url")||"";Oe(s);const n=Re();n.textContent=n.getAttribute("data-hint-redirect-on-update-setup-url")||""}});function ae(){const e=document.getElementById("js-update-integration-permissions");e&&e.removeAttribute("disabled")}i(ae,"enableFormSubmission");function vt(){const e=document.querySelectorAll('[id^=integration_permission_]:checked:not([data-permission="none"])');return Array.from(e,t=>t.getAttribute("data-resource"))}i(vt,"selectedResources");function jt(e){return e?Array.from(document.querySelectorAll(`.js-integration-hook-event[data-resource~="${e}"]:checked`)):[]}i(jt,"checkedHookEventsForResource");function St(){return vt().flatMap(e=>jt(e))}i(St,"checkedHookEventNodes");function kt(e){return!St().includes(e)}i(kt,"hookEventCheckboxCanBeHidden"),(0,c.on)("change",".js-integration-permissions-selector [id^=integration_permission_]",function({currentTarget:e}){const t=e.getAttribute("data-permission"),o=e.getAttribute("data-resource")||"",s=document.querySelectorAll(`.js-integration-hook-event[data-resource~="${o}"]`),n=document.querySelectorAll(`.js-dropdown-container[data-resource~="${o}"]`);if(ae(),t!=="none"){const r=document.querySelectorAll(`.js-integration-hook-event-permission-error[data-resource~='${o}']`);for(const a of r)a.classList.add("d-none");for(const a of s)a.readOnly=!1;e.closest(".js-list-group-item").classList.remove("disabled");for(const a of n)a.classList.remove("d-none")}else{for(const r of s)kt(r)&&(r.readOnly=!0,r.checked=!1,r.closest(".js-dropdown-container").classList.add("anim-fade-in","d-none"));e.closest(".js-list-group-item").classList.add("disabled"),o==="single_file"&&wt(o,".js-single-files-path-list")}});function wt(e,t){document.querySelector(`.js-dropdown-container[data-resource~='${e}']`).classList.add("anim-fade-in","d-none"),document.querySelector(t).innerHTML=""}i(wt,"clearSubmittedFields");function qt(e){const t=document.querySelector(".js-hook-url-field");if(!t)return;t.classList.toggle("required"),e?t.setAttribute("required","required"):t.removeAttribute("required");const o=t.closest("dl.form-group");!o||o.classList.toggle("required")}i(qt,"toggleHookUrlRequired"),(0,c.on)("change",".js-hook-active-checkbox",function(e){const t=e.currentTarget;for(const o of document.querySelectorAll(".js-integration-hook-enabled"))o.hidden=!t.checked;qt(t.checked)});function fe(e=!1){const t=document.querySelector(".js-integration-permissions-selector [id=integration_permission_metadata_read]"),o=t.closest(".js-list-group-item");e&&(0,B.Se)(t,!0),o.querySelector(".js-mandatory-label").hidden=!e;for(const s of o.querySelectorAll("input"))s!==t&&(s.disabled=e)}i(fe,"toggleMetadataSelectionMenu");function At(){let e=!0;const t=document.querySelectorAll(".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent=repository]:checked");for(const o of t){const s=o.getAttribute("data-permission")||"none";if((o.getAttribute("data-resource")||"")!=="metadata"&&s!=="none"){e=!1;break}}return e}i(At,"noRepoPermissionSelected"),(0,c.on)("change",".js-integration-permissions-selector [id^=integration_permission_][data-resource-parent^=repository]",function({currentTarget:e}){const t=e.getAttribute("data-permission");(e.getAttribute("data-resource")||"")!=="metadata"&&(t!=="none"?fe(!0):At()&&fe())}),(0,c.on)("change",".js-integration-permissions-selector [name^=integration]",ae),(0,c.on)("click",".js-integration-permissions-selector .js-integration-hook-event",function(e){const t=e.currentTarget;t.readOnly&&(t.closest(".js-send-events").querySelector(".js-integration-hook-event-permission-error").classList.remove("d-none"),e.preventDefault())});function Be(){const e=document.querySelector(".js-single-files input"),t=document.querySelector(".js-single-files template"),o=document.querySelector(".js-single-files-path-list"),s=e.value;if(!s)return;const n=t.content.cloneNode(!0);n instanceof DocumentFragment&&(n.querySelector("input").value=s,n.querySelector(".js-single-files-path").textContent=s,e.value="",o.appendChild(n),o.closest(".Box").hidden=!1,ae())}i(Be,"addPath"),(0,O.w4)("keydown",".js-single-files input",function(e){e.key==="Enter"&&(e.preventDefault(),Be())}),(0,c.on)("click",".js-single-files .js-path-add",Be),(0,c.on)("click",".js-single-files .js-close",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest("li"),o=t.parentElement;!o||(o.removeChild(t),o.querySelectorAll("li").length===0&&(o.closest(".Box").hidden=!0),ae())});function Lt(e){const t=e.getAttribute("src");if(!t)return"";const o=document.createElement("a");return o.href=t,o.href}i(Lt,"getCheckTargetSrc");async function xt(e){const o=e.target.form,s=o.querySelectorAll(".js-key-link-input"),n=new FormData;for(const T of s)n.append(T.name,T.value);const r=o.querySelector(".js-key-link-check"),a=Lt(r),g=r.parentElement.querySelector(".js-key-link-check-csrf"),p=await fetch(a,{method:"POST",mode:"same-origin",body:n,headers:{"Scoped-CSRF-Token":g.value,"X-Requested-With":"XMLHttpRequest"}});if(!p.ok){r.hidden=!0;return}const L=await p.text();r.innerHTML=L,r.hidden=!1}i(xt,"handleInput"),(0,O.q6)(".js-key-link-input",(0,H.D)(xt,300));function he(e,t){for(const o of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))o.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}i(he,"setIndicator"),(0,C.AC)(".js-setting-toggle",async function(e,t){const o=e.querySelector(".js-status-indicator");he(o,"status-indicator-loading");try{await t.text(),he(o,"status-indicator-success")}catch{he(o,"status-indicator-failed")}}),(0,c.on)("change",".js-toggle-email-settings input",function(){const e=document.querySelector(".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)}),(0,c.on)("change",".js-toggle-ci-failures-only-setting input",function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=document.querySelector(".js-ci-failures-only-settings input"),o=t.closest("label");o&&o.classList.toggle("color-fg-muted",!e),e||(t.checked=!1),t.disabled=!e}),(0,C.AC)(".js-revoke-access-form",async function(e,t){await t.html();const o=e.getAttribute("data-id"),s=e.getAttribute("data-type-name"),n=document.querySelector(`.js-revoke-item[data-type='${s}'][data-id='${o}']`);n.remove(),n.classList.contains("new-token")&&document.querySelector(".js-flash-new-token").remove()}),(0,c.on)("click",".js-delete-oauth-application-image",function(){const e=document.querySelector(".js-delete-oauth-application-image-form");(0,B.Bt)(e)}),(0,c.on)("click",".js-new-callback",function(e){e.preventDefault();const t=e.currentTarget,o=t.closest(".js-callback-urls"),n=o.querySelector(".js-callback-url").cloneNode(!0);if(!(n instanceof HTMLElement))return;n.classList.remove("is-default-callback");const r=n.querySelector("input");r.value="",o.classList.add("has-many"),t.parentNode.insertBefore(n,t)}),(0,c.on)("click",".js-delete-callback",function(e){e.preventDefault();const t=e.currentTarget;t.closest(".js-callback-url").remove();const s=t.closest(".js-callback-urls");s.querySelectorAll(".js-callback-url").length<=1&&s.classList.remove("has-many")}),(0,c.on)("click",".js-oauth-application-whitelist .js-deny-this-request",function(e){const t=e.currentTarget,o=t.nextElementSibling;o.value="denied",(0,B.Bt)(t.closest(".js-org-application-access-form"))});async function ge(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let o;try{o=await(0,m.a)(document,t),e.innerHTML="",e.append(o)}catch{window.location.reload()}}i(ge,"fetchKeysList"),(0,c.on)("click",".js-generate-integration-key",function(){const e=document.querySelector(".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout(function(){const t=document.querySelector(".js-integration-keys-container");t&&ge(t)},1e3))}),(0,C.AC)(".js-remove-integration-key",async function(e,t){try{await t.text()}catch(n){if(!n.response)throw n;e.closest("details").removeAttribute("open");const r=document.querySelector(".js-integration-key-management-wrapper"),g=r.querySelector(".js-error-container").querySelector(".js-error-message");switch(n.response.status){case 500:g.textContent="Oops, something went wrong.";break;case 404:g.textContent="Oops, that key could not be found.";break;default:g.textContent=n.response.json.message}r.classList.add("error");return}const o=e.getAttribute("data-key-id"),s=document.getElementById(o);if(s){const n=s.closest(".js-integration-keys-container");n&&ge(n)}}),(0,c.on)("click",".js-error-dismiss",function(){const e=document.querySelector(".js-integration-keys-container");e&&ge(e)}),(0,c.on)("change",".js-checkbox-scope",function(e){const t=e.currentTarget;t.checked?be(t,"self"):ye(t,"self"),_t(t)});function _t(e){const o=e.closest(".js-check-scope-container").querySelectorAll(".js-checkbox-scope");for(const s of o)s!==e&&(e.checked?be(s,e.value):ye(s,e.value))}i(_t,"toggleScopeSubsets"),(0,c.on)("change","[data-check-related-scopes]",function(e){const t=e.currentTarget,o=t.getAttribute("data-check-related-scopes").split(" ");for(const s of o){const n=document.querySelectorAll(`[data-scope-for="${s}"] .js-checkbox-scope`);for(const r of n)t.checked?be(r,t.value):ye(r,t.value)}});async function He(e){const t=e.currentTarget,o=".js-checkbox-scope:checked:disabled",s=t.querySelectorAll(o);for(const n of s)n.disabled=!1}i(He,"enabledCheckedAndDisabledScopes"),(0,c.on)("submit","#new_oauth_access",He),(0,c.on)("submit",".js-edit-oauth-access",He);function ye(e,t){let o=Ne(e);o=Et(o,t),e.setAttribute("data-selected-by",o.join(" ")),Fe(e)}i(ye,"removeFromSelectedBy");function be(e,t){const o=Ne(e);o.push(t),e.setAttribute("data-selected-by",o.join(" ")),Fe(e)}i(be,"addToSelectedBy");function Fe(e){const t=e.getAttribute("data-selected-by");e.checked=t!=="",e.disabled=e.checked&&t!=="self"}i(Fe,"updateDependencyGraph");function Ne(e){return e.getAttribute("data-selected-by")?e.getAttribute("data-selected-by").split(" "):[]}i(Ne,"fetchSelectedByArray");function Et(e,t){const o=e.indexOf(t);return o>-1&&e.splice(o,1),e}i(Et,"removeItemFromArray");const Ge="VISIBILITY_SELECTED_REPOSITORIES";function ve(){const e=document.querySelector(".js-org-secrets-selection"),o=e.querySelector(".js-secrets-visibility-menu input:checked").getAttribute("value"),s=e.querySelector(".js-repository-items-dialog");s.hidden=o!==Ge;const n=e.querySelector(".js-repository-selection-component"),r=Array.from(n.querySelectorAll(".js-repository-item-checkbox")).filter(g=>g.checked).length,a=s.querySelector(".js-selected-repos-label");a.hidden=o!==Ge,a.querySelector(".js-selected-repositories-count").textContent=r.toString(),a.querySelector(".js-multiple-repositories-text").hidden=r===1,a.querySelector(".js-single-repository-text").hidden=r!==1}i(ve,"updateSelectedRepositoryCount");function je(e){const o=e.target.closest(".js-encrypt-submit").querySelector(".js-btn-save-secret");!o||(o.disabled=!1)}i(je,"enableSaveSecretButton"),(0,c.on)("click",".js-new-secret-value-button",function(e){const o=e.currentTarget.closest(".js-secret-value-form-group");o.querySelector(".js-new-secret-value-input").hidden=!1,o.querySelector(".js-new-secret-value-prompt").hidden=!0,je(e)}),(0,c.on)("reset",".js-org-secrets-selection .js-repository-selection-component",ve),(0,c.on)("details-menu-selected",".js-secrets-visibility-menu",je,{capture:!0}),(0,c.on)("details-menu-selected",".js-secrets-visibility-menu",ve,{capture:!0});var Ue=(e=>(e.Checking=".js-cap-checking",e.RetryChecking=".js-cap-retry-checking",e.Resolved=".js-cap-resolved",e.Forbidden=".js-cap-forbidden",e))(Ue||{});async function Tt(e){Z(".js-cap-checking");const o=e.detail.relatedTarget.getAttribute("data-src");if(o===null)throw new Error("Target source lociation not found");const s=new URL(o,window.location.origin),n=new Request(s.toString(),{headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});let r;try{r=await fetch(n)}catch{}if(!r)Z(".js-cap-forbidden");else if(r.status===403)Z(".js-cap-forbidden");else if(!r.ok)Z(".js-cap-retry-checking");else{const a=document.querySelector(".js-cap-resolved");a.innerHTML="",a.appendChild((0,K.r)(document,await r.text())),Z(".js-cap-resolved")}}i(Tt,"verifyAuthorization");function Z(e){for(const o of Object.values(Ue)){const s=document.querySelector(o);s.hidden=!0}const t=document.querySelector(e);return t.hidden=!1,t}i(Z,"displayAuthorizationSectionFor"),(0,c.on)("click","#js-retry-cap-check",()=>{const e=document.querySelector(".js-target-container input[type=radio]:checked"),t=e.closest("details-menu"),o=e.parentElement;o instanceof HTMLElement&&t.dispatchEvent(new CustomEvent("details-menu-selected",{detail:{relatedTarget:o}}))}),(0,c.on)("details-menu-selected",".js-target-container",Tt,{capture:!0});var Ct=(e=>(e.None="none",e.All="all",e.Selected="selected",e))(Ct||{});function G(e,t){const o=document.querySelector(e);o&&(o.textContent=t)}i(G,"updateElText");function Ve(e){return document.querySelectorAll(e).length}i(Ve,"elCount");function It(){const e=document.querySelector("#user_programmatic_access_name");G('#token-summary [data-token-summary="name"]',e.value)}i(It,"updateName");function $(e){const t=Ve(`[data-${e}-permission] .js-permissions-selector [id^=integration_permission_]:checked:not([data-permission="none"])`);G(`#token-summary [data-token-summary="${e}-permission-count"]`,String(t))}i($,"updatePermissionCount");function $e(){const e=document.querySelector(".js-installation-repositories-radio:checked"),t=e?e.value:"none";if(t==="selected"){const o=Ve(".js-selected-repository-field");G('#token-summary [data-token-summary="repository-count"]',String(o))}else G('#token-summary [data-token-summary="repository-count"]',t)}i($e,"updateRepositoryCount");function We(){const e=document.querySelector(".js-default-token-expiration-select").value;if(e==="none")G('#token-summary [data-token-summary="expiration"]',"never.");else if(e==="custom"){const t=document.querySelector("#user_programmatic_access_custom_expires_at").value,o=t?ze(new Date(`${t}T00:00:00`)):"an unselected custom date";G('#token-summary [data-token-summary="expiration"]',`on ${o}.`)}else{const t=Mt(e);G('#token-summary [data-token-summary="expiration"]',`on ${t}.`)}}i(We,"updateExpiration");function ze(e){return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}).format(e).replace(/,(?=\s\d{4})/,"")}i(ze,"formatDateString");function Mt(e){const t=new Date;return t.setDate(t.getDate()+Number(e)),ze(t)}i(Mt,"calculateDate");function Pt(){const e=document.querySelectorAll('[id^=integration_permission_][data-permission="none"]');for(const t of e)t.checked=!0;fe(),Ke()}i(Pt,"resetPermissions");function Dt(){const e=document.querySelector(".js-installation-repositories-radio:checked").value,t=document.querySelector(".js-integration-permissions-selector section[data-repository-permission]");e==="none"?(t.hidden=!0,G('#token-summary [data-token-summary="repository-permission-count"]',String(0))):(t.hidden=!1,$("repository"))}i(Dt,"toggleRepoPermissionVisibility");function Ke(){$("repository"),$("user"),$("organization"),$e()}i(Ke,"setInitialValues"),(0,F.N7)(".js-user-programmatic-access-form .js-integrations-install-repo-selection",e=>{new MutationObserver($e).observe(e,{childList:!0,subtree:!0})}),(0,F.N7)(".js-user-programmatic-access-form",Ke),(0,c.on)("change",".js-user-programmatic-access-form [data-repository-permission] .js-permissions-selector [id^=integration_permission_]",()=>$("repository")),(0,c.on)("change",".js-user-programmatic-access-form [data-user-permission] .js-permissions-selector [id^=integration_permission_]",()=>$("user")),(0,c.on)("change",".js-user-programmatic-access-form [data-organization-permission] .js-permissions-selector [id^=integration_permission_]",()=>$("organization")),(0,c.on)("change",".js-user-programmatic-access-form .js-installation-repositories-radio",()=>{Pt(),Dt()}),(0,c.on)("change",".js-user-programmatic-access-form #user_programmatic_access_name",It),(0,c.on)("change",".js-user-programmatic-access-form .js-default-token-expiration-select",We),(0,c.on)("change",".js-user-programmatic-access-form #user_programmatic_access_custom_expires_at",We);function Rt(e){const t=e.target,o=t.closest(".js-policy-repos-container").querySelector(".js-policy-repos-form"),s=o.getAttribute("data-form-field-name"),n=Ot(t,s),r=o.querySelector(`[value='${n.value}']`);r?r.replaceWith(n):o.append(n)}i(Rt,"selectRepoItem");function Ot(e,t){const o=document.createElement("input");return o.type="hidden",o.name=e.checked?"enable[]":"disable[]",o.value=e.value,t&&o.setAttribute("data-form-field-name",t),o}i(Ot,"createRepoInput"),(0,c.on)("change",".js-policy-repos-container .js-repository-item-checkbox",Rt);var jo=y(7745);function Xe(e,t){const o=t.querySelector(".js-repo-access-error");o.textContent=e,o.classList.remove("d-none")}i(Xe,"showError");function Qe(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}i(Qe,"hideErrors");function Bt(e){const t=e.querySelector(".js-add-new-collab");t&&(t.disabled=!0)}i(Bt,"resetInviteForm");function Ht(e){const t=document.querySelector(".js-repo-access-team-select");if(t){let o=0;for(const s of t.querySelectorAll(".js-repo-access-team-select-option"))e===s.getAttribute("data-team-id")&&(s.hidden=!0),s.hidden||o++;o===0&&t.closest(".js-repo-access-group").classList.add("no-form")}}i(Ht,"handleTeamAdd");function Ft(e){const t=document.querySelector(".js-repo-access-team-select");if(t){const o=t.querySelector(`[data-team-id='${e}']`);o instanceof HTMLElement&&(o.hidden=!1),t.closest(".js-repo-access-group").classList.remove("no-form")}}i(Ft,"handleTeamRemove");async function Nt(e,t){Qe();const s=(await t.json()).json;let n;const r=e.closest(".js-repo-access-container"),a=r.querySelector(".js-repo-access-group");a.id!=="collaborators"&&(n=a.querySelector(".js-repo-access-list"));const g=e.querySelector(".js-add-repo-access-field");if(g instanceof HTMLInputElement){const p=g.value;g.value="",a.id==="teams"&&Ht(p)}if(s.error){Xe(s.error,r);return}if(Bt(e),n){n.insertAdjacentHTML("beforeend",s.html);const p=n.querySelectorAll(".js-repo-access-entry");p[p.length-1].querySelector("a").focus()}if(s.seats||s.seats===0){const p=s.seats===1?"seat":"seats",L=document.getElementById("available-seats");L&&(L.innerHTML=`${s.seats} ${p}`)}}i(Nt,"handleInviteResponse"),(0,c.on)("details-menu-selected",".js-repo-access-team-select-menu",function(e){const t=e.detail.relatedTarget,o=t.getAttribute("data-team-id")||"",s=t.closest(".js-repo-access-group").querySelector(".js-add-repo-access-field");s.value=o,(0,B.Bt)(s.form)},{capture:!0}),(0,C.AC)(".js-add-repo-access-form",Nt),(0,C.AC)(".js-remove-repo-access-form",async function(e,t){if(e.hasAttribute("data-skip-remote"))return;try{await t.text()}catch{Xe(e.getAttribute("data-error-message")||"",e.closest(".js-repo-access-group"));return}Qe();const o=e.closest(".js-repo-access-entry");e.closest(".js-repo-access-group").id==="teams"&&Ft(o.getAttribute("data-team-id")||""),o.remove()});function Se(e){for(const t of e)t.hidden=!t.hidden}i(Se,"toggleHidden");function ke(e){for(const t of e)t.disabled=!1,t.closest(".js-role-checkbox").classList.remove("color-fg-muted")}i(ke,"reenableAllRoles");function le(e,t){e instanceof HTMLElement&&(e.hidden=t)}i(le,"toggleRoleBadge"),(0,c.on)("combobox-commit",".js-repo-add-access-search",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=e.target.closest(".js-autocomplete-item"),s=t.querySelector(".js-selected-member-id");s.textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const n=t.querySelector(".js-selected-member-badge"),r=o.querySelector(".js-selection-badge");n.innerHTML=r.innerHTML,Se(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const a=t.querySelector(".js-base-role-badge");le(a,!0);const g=o.getAttribute("data-type"),p=o.hasAttribute("data-admin"),L=p?"[data-disable-org-admin]":"[data-disable-org-role]",T=t.querySelectorAll(L),pt=t.querySelectorAll('input[name="role"]');if(pt.length>0){if(ke(pt),g==="org-member"){le(a,!1);for(const me of T)me.disabled=!0,me.closest(".js-role-checkbox").classList.add("color-fg-muted")}if(p)t.querySelector(".js-role-admin").checked=!0;else if(a&&g==="org-member"){const me=a.closest(".js-role-checkbox").querySelector('input[name="role"]');me.checked=!0}else(g==="outside-collab"||g==="team"||g==="org-member"||g==="email")&&(t.querySelector(".js-role-pull").checked=!0)}}),(0,c.on)("click",".js-cancel-selection",function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".js-repo-add-access-search"),o=t.querySelector(".js-repo-add-access-search-input");o.value="";const s=t.querySelectorAll('input[name="role"]');ke(s),Se(Array.from(t.querySelectorAll(".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")));const n=t.querySelector(".js-base-role-badge");le(n,!0)}),(0,c.on)("details-dialog-close",".js-add-access-form",function({currentTarget:e}){const t=e.querySelector(".js-repo-add-access-search-input");t.value="";const o=t.querySelectorAll('input[name="role"]');ke(o);const s=e.querySelector(".js-repo-add-access-search-selection"),n=e.querySelector(".js-repo-add-access-search-selected");if(n.hidden)return;Se([n,s]);const r=t.querySelector(".js-base-role-badge");le(r,!0)});var Gt=y(57443);(0,c.on)("change",".js-repo-features-form input[type=checkbox]",function({currentTarget:e}){const o=e.closest(".js-repo-option").querySelector(".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")}),(0,c.on)("change",".js-branch-name-pattern",function({currentTarget:e}){const t=document.querySelector(".js-protected-branch-merge-queue-checkbox"),o=document.querySelector(".js-merge-queue-merge-method-select"),s=document.querySelector(".js-protected-branch-name-merge-queue-warning"),n=e.value;if(t&&o&&s){const r=t.closest(".form-checkbox"),a=n.includes("*");o.hidden=a,t.disabled=a,s.hidden=!a,r.classList.toggle("color-fg-muted",a),a&&t.checked&&(alert(t.getAttribute("data-auto-uncheck-message")),t.checked=!1)}}),(0,C.AC)(".js-repo-features-form",async function(e,t){let o;try{o=await t.html()}catch{for(const n of e.querySelectorAll(".status-indicator-loading")){n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-failed");const a=n.closest(".js-repo-option").querySelector("input[type=checkbox]");a.checked=!a.checked}return}for(const s of e.querySelectorAll(".status-indicator-loading"))s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-success");document.querySelector(".js-repo-nav").replaceWith(o.html)}),(0,c.on)("change",".js-merge-features-form input[type=checkbox]",function({currentTarget:e}){const t=e.form;for(const n of t.querySelectorAll(".errored"))n.classList.remove("errored");const s=e.closest(".js-repo-option").querySelector(".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")}),(0,C.AC)(".js-merge-features-form",async function(e,t){try{await t.text()}catch(o){const s=o.response&&o.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const n of e.querySelectorAll(s))n instanceof HTMLElement&&(n.hidden=!1);for(const n of e.querySelectorAll(".status-indicator-loading")){n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-failed");const r=n.closest(".js-repo-option");r.classList.add("errored");const a=r.querySelector("input[type=checkbox]");a.checked=!a.checked}for(const n of e.querySelectorAll(".status-indicator-success"))n.classList.remove("status-indicator-success");return}for(const o of e.querySelectorAll(".errored"))o.classList.remove("errored");for(const o of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))o instanceof HTMLElement&&(o.hidden=!0);for(const o of e.querySelectorAll(".status-indicator-loading"))o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-success")}),(0,c.on)("change","input.js-required-status-toggle",function({currentTarget:e}){e.closest(".js-protected-branch-settings").querySelector(".js-required-statuses").classList.toggle("d-none",!e.checked)}),(0,c.on)("change","input.js-required-deployments-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelector(".js-required-deployments");o.hidden=!e.checked}),(0,c.on)("change","input.js-required-status-checkbox",function({currentTarget:e}){e.closest(".js-protected-branches-item").querySelector(".js-required-status-badge").classList.toggle("d-none",!e.checked)}),(0,c.on)("auto-complete-change",".js-add-protected-branch-required-status-check",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const n=t.closest(".js-protected-branch-options").querySelector(".js-required-status-checks"),r=n.querySelector(`li[data-context='${o}']`);if(r){r.querySelector(".js-required-status-check-context").classList.add("user-already-added");return}const a=t.getAttribute("data-add-url"),g=new URL(a,window.location.origin),p=new URLSearchParams(g.search.slice(1));p.append("item",o),g.search=p.toString(),n.append(await(0,m.a)(document,g.toString()))}),(0,c.on)("click",".js-remove-required-status-check",function({currentTarget:e}){e.closest(".js-required-status-check").remove()}),(0,c.on)("change","input.js-reviewers-required-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options"),o=t==null?void 0:t.querySelector(".js-reviewers-count");if(!o)return;o.hidden=!e.checked;const s=o.querySelector(`input#required_approving_review_count_${o.hidden?0:1}`);!s||(s.click(),o.focus())}),(0,c.on)("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-options").querySelector(".js-authorized-pushers");o.classList.toggle("d-none",!e.checked),o.querySelector(".js-add-protected-branch-user-or-team input").focus()}),(0,c.on)("change","input.js-bypass-pull-request-toggle",function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const s=o.querySelector(".js-pull-request-bypassers");if(!!s){if(s.hidden=!e.checked,s.hidden){const n=o.querySelector(".js-authorized-users-and-teams");n==null||n.replaceChildren()}(t=s.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),(0,c.on)("change",'input[type="radio"][name="allow_force_push"]',function({currentTarget:e}){var t;const o=e.closest(".js-protected-branch-options");if(!o)return;const s=o.querySelector(".js-allow-force-pushers");if(!!s){if(s.hidden=e.value!=="actors",s.hidden){const n=o.querySelector(".js-authorized-users-and-teams");n==null||n.replaceChildren()}(t=s.querySelector(".js-add-protected-branch-user-or-team input"))==null||t.focus()}}),(0,c.on)("change","input.js-force-push-toggle",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");if(!t)return;const o=t.querySelector(".js-restrict-who-pushes");if(!!o&&(o.hidden=!e.checked,o.hidden)){const s=t.querySelector(".js-authorized-users-and-teams");s==null||s.replaceChildren()}}),(0,c.on)("click",".js-protected-branch-merge-queue-checkbox",function(e){const t=e.currentTarget,o=t.getAttribute("data-confirm-if-checked")||"";!t.checked&&!confirm(o)&&e.preventDefault();const s=t.closest(".js-protected-branch-settings");if(!s)return;const n=s.querySelector(".js-protected-branch-merge-queue-settings");!n||(n.hidden=!t.checked)}),(0,c.on)("change",".js-protected-branch-include-admin-toggle",function({currentTarget:e}){const o=e.closest(".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const s of o)s.classList.toggle("d-none"),s.classList.toggle("active",!s.classList.contains("d-none"))});function Je(e){const t=e.querySelector(".js-authorized-pushers");if(!(t==null?void 0:t.getAttribute("data-limit")))return;const o=parseInt(t.getAttribute("data-limit")||""),s=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",s>=o)}i(Je,"toggleMaxAllowedPushers"),(0,c.on)("auto-complete-change",".js-add-protected-branch-user-or-team",async function({target:e}){const t=e,o=t.value;if(!o)return;t.value="";const s=t.closest(".js-protected-branch-options"),n=s.querySelector(".js-authorized-users-and-teams"),r=n.querySelector(`div[data-user-or-team-name='${o}']`);if(r){r.querySelector(".js-protected-branch-pusher").classList.add("user-already-added");return}const a=t.getAttribute("data-add-url"),g=new URL(a,window.location.origin),p=new URLSearchParams(g.search.slice(1));p.append("item",o),g.search=p.toString(),n.append(await(0,m.a)(document,g.toString())),Je(s)}),(0,c.on)("click",".js-remove-authorized-user-or-team",function({currentTarget:e}){const t=e.closest(".js-protected-branch-options");e.closest(".js-authorized-user-or-team").remove(),Je(t)}),(0,c.on)("click",".js-pages-cname-save-btn",function(){const e=document.querySelector(".js-pages-cname-remove-btn");e&&(e.disabled=!1)}),(0,F.N7)("#pages-cname-field",{constructor:HTMLInputElement,add(e){(0,Gt.oq)(e,function(){const t=document.querySelector(".js-pages-cname-save-btn"),o=document.querySelector(".js-pages-cname-remove-btn");e.value===""&&o?t.disabled=!0:t.disabled=e.value===e.defaultValue})}});const Ze=15*1e3;setTimeout(Ye,Ze);async function Ye(){const e=document.querySelector(".js-pages-certificate-status");if(e){const t=e.getAttribute("data-status-url"),o=await(0,m.a)(document,t);e.replaceWith(o),setTimeout(Ye,Ze)}}i(Ye,"checkCertificateStatus"),setTimeout(et,2e3);async function et(){const e=document.querySelector(".js-pages-domain-status");if(e){const t=e.getAttribute("data-domain-state");if(!["pending","queued"].includes(t))return;const o=e.getAttribute("data-domain-status-url"),s=await(0,m.a)(document,o);e.replaceWith(s),setTimeout(et,5e3)}}i(et,"checkDomainStatus");function Y(){return document.querySelector(".js-update-page-source-btn")}i(Y,"getPageSourceSubmitBtn");function ue(e){const t=document.querySelector(`input[name=${e}]:checked`);return t?t.value:null}i(ue,"getPageSource");function Ut(){const e=document.querySelector(".js-disable-page-warning");return e||null}i(Ut,"getPageWarningMessage");const we=ue("source"),tt=ue("source_dir");(0,c.on)("change",".js-select-branch",e=>{const t=e.target;if(t.name!=="source")return;const o=document.querySelector(".js-select-source-dir"),s=document.querySelector(".js-branch-icon");t.value!==""?(s.hidden=!1,o.hidden=!1):(s.hidden=!0,o.hidden=!0);const n=Ut();n!=null&&(t.value===""?n.hidden=!1:n.hidden=!0),t.value!==we?(Y().disabled=!1,t.value===""&&n!=null&&(Y().disabled=!0)):(tt===ue("source_dir")||we==="")&&(Y().disabled=!0)}),(0,c.on)("change",".js-select-source-dir",e=>{const t=e.target;if(t.name!=="source_dir")return;t.value!==tt?Y().disabled=!1:ue("source")===we&&(Y().disabled=!0)});function Vt(e){const t=e.querySelector("form>button");t.disabled=!0,e.querySelector("summary").classList.add("disabled");for(const s of e.querySelectorAll("details"))s.removeAttribute("open")}i(Vt,"disableRestoreButton");function $t(e,t){const o=e.querySelector(".js-restore-status");o.innerHTML="",o.append(t)}i($t,"restoreStatus"),(0,c.on)("submit",".js-repo-restore",async function(e){const t=e.currentTarget;e.preventDefault();let o;const s=t.closest(".js-deleted-repository");try{o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}})}catch{}if(!o||!o.ok)return;const n=(0,K.r)(document,await o.text());$t(s,n)}),(0,F.N7)(".js-restore-repo-job",function(e){const t=e.closest(".js-deleted-repository");Vt(t)}),(0,c.on)("click",".js-disableable-summary.disabled",e=>e.preventDefault()),(0,c.on)("click",".js-used-by-selector-button",function({currentTarget:e}){const t=e.closest(".js-used-by-selector");if(t!=null){const o=t.querySelector(".js-status-indicator");o!=null&&(o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading"))}});const ot=new WeakMap,ee=new WeakMap,Wt=100;async function st(e){const t=e.closest(".js-repository-selection-component"),o=ot.get(t)||0;if(o>Wt)return;e.textContent=e.getAttribute("data-disable-with"),e.disabled=!0,ot.set(t,o+1);const s=e.getAttribute("data-url");zt(t,s),await Promise.resolve(),t.dispatchEvent(new CustomEvent("repository-items-loaded"))}i(st,"loadMoreRepositoryItems");async function zt(e,t){const o=await(0,m.a)(document,t);e.querySelector(".js-more-repository-items-replace-target").replaceWith(o),Kt(e)}i(zt,"fetchItemsAsync"),(0,c.on)("click",".js-more-repository-items-button",function(e){const t=e.currentTarget;st(t)}),(0,F.N7)(".js-more-repository-items-button",{constructor:HTMLButtonElement,add:st});function Kt(e){(0,c.f)(e.querySelector(".js-repository-items-filter-input"),"change")}i(Kt,"filterRepositoryItems");function Xt(e){const t=e.target;if((t==null?void 0:t.type)!=="checkbox")return;const o=t.closest(".js-repository-selection-component"),s=ee.get(o)||new Set;s.has(t.value)?s.delete(t.value):s.add(t.value),ee.set(o,s);const n=t.closest(".js-repository-items-dialog");nt(n,s.size>0)}i(Xt,"saveChangedCheckbox");function nt(e,t){const o=e.querySelector(".js-btn-select-repositories");o.disabled=!t}i(nt,"setUpdateSelectionButtonState");function Qt(e){const t=e.currentTarget.closest(".js-repository-items-dialog");if(!t)return;const o=t.querySelector(".js-repository-selection-component");if(!o.hasAttribute("data-discard-changes-on-close"))return;const s=ee.get(o);if(!!s){for(const n of s.keys()){const r=o.querySelector(`[value='${n}']`);r.checked=!r.checked}ee.set(o,new Set),nt(t,!1)}}i(Qt,"undoChangedCheckboxes");function rt(e){const t=e.currentTarget,o=t.closest(".js-repository-items-dialog");if(!o)return;const s=Array.from(t.querySelectorAll(".js-repository-item-checkbox")).filter(r=>r.checked).length,n=o.querySelector(".js-selected-repositories-count-container");n.querySelector(".js-selected-repositories-count").textContent=s.toString(),n.querySelector(".js-multiple-repositories-text").hidden=s===1,n.querySelector(".js-single-repository-text").hidden=s!==1}i(rt,"repository_selection_input_updateSelectedRepositoryCount"),(0,c.on)("change",".js-repository-selection-component",rt),(0,c.on)("reset",".js-repository-selection-component",rt),(0,c.on)("change",".js-repository-selection-component",Xt),(0,c.on)("click",".js-btn-select-repositories",function(e){const o=e.target.closest(".js-repository-items-dialog").querySelector(".js-repository-selection-component");ee.set(o,new Set),o.closest("details-dialog").toggle(!1),document.querySelector(".js-org-secrets-selection")&&(ve(),je(e))}),(0,c.on)("details-dialog-close",".js-repository-items-dialog",Qt);var it=y(26722);(0,c.on)("click",".js-repo-toggle-team",async function({currentTarget:e}){(0,it.l)(".js-repo-team-suggestions-pagination",".js-repo-toggle-team");const t=e;(0,it.V)(t,"form.js-repository-teams")}),(0,O.q6)(".js-synced-repo-owner-input",function(e){const t=e.target,o=t.getAttribute("data-sync");if(!o)return;const s=document.querySelectorAll(`[data-sync-with="${o}"]`);for(const n of s)n.textContent=t.value});var ct=y(1314),Jt=Object.defineProperty,Zt=Object.getOwnPropertyDescriptor,W=i((e,t,o,s)=>{for(var n=s>1?void 0:s?Zt(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&Jt(t,o,n),n},"retention_form_element_decorateClass");let U=i(class extends HTMLElement{validate(){this.resetState();const e=this.input.hasAttribute("data-allow-nil");if(!this.input.value&&!e)return;const t=+this.input.value,o=this.input.getAttribute("data-min"),s=this.input.getAttribute("data-max");if(e&&!t){this.button.disabled=!1;return}if(o&&t<+o){this.group.classList.add("errored"),this.minMessage.hidden=!1,(0,ct.N)(this.note);return}if(s&&t>+s){this.group.classList.add("errored"),this.maxMessage.hidden=!1,(0,ct.N)(this.note);return}this.button.disabled=!1}resetState(){this.minMessage.hidden=!0,this.maxMessage.hidden=!0,this.group.classList.remove("errored"),this.button.disabled=!0}},"RetentionFormElement");W([l.fA],U.prototype,"group",2),W([l.fA],U.prototype,"input",2),W([l.fA],U.prototype,"button",2),W([l.fA],U.prototype,"minMessage",2),W([l.fA],U.prototype,"maxMessage",2),W([l.fA],U.prototype,"note",2),U=W([l.Ih],U);var So=y(47267);(0,C.AC)(".js-create-runner-label-form",async function(e,t){var o;let s;const n=e.closest(".js-runner-labels-menu"),r=n.querySelector(".js-runner-label-error");try{s=await t.html()}catch(L){((o=L.response.json)==null?void 0:o.message)&&r&&(r.textContent=L.response.json.message,r.hidden=!1);return}if(!s||!s.html)return;r&&(r.hidden=!0,r.textContent="");const a=s.html.querySelector(".js-label-input");n.querySelector(".js-filterable-runner-labels").prepend(s.html),a==null||a.click();const p=n.querySelector(".js-label-filter-field");p.value="",p.focus()});function Yt({currentTarget:e}){if(e instanceof Element){const t=e.querySelector(".js-runner-labels-form");(0,B.Bt)(t)}}i(Yt,"submitOnMenuClose");function eo({currentTarget:e}){var t;if(e instanceof Element){const s=e.querySelector(".js-filterable-runner-labels").getElementsByClassName("select-menu-item"),n=[];for(const p of s)if(((t=p.attributes.getNamedItem("aria-checked"))==null?void 0:t.value)==="true"){const L=p.querySelector(".select-menu-item-text");L instanceof HTMLElement&&n.push(L.textContent)}const r=e.closest(".js-label-container"),a=r.querySelector("#custom-hosted-runner-label-template"),g=r.querySelector("#custom-hosted-runner-label-details-list");for(let p=r.children.length-2;p>0;p--)r.children[p].classList.contains("js-user-label")&&r.removeChild(r.children[p]);for(const p of n){const L=a.cloneNode(!0);L instanceof HTMLElement&&(L.removeAttribute("hidden"),L.textContent=p,r.appendChild(L))}r.appendChild(g)}}i(eo,"addLabelsOnMenuClose"),(0,c.on)("details-menu-selected",".js-runner-labels-details",function(e){e.currentTarget.addEventListener("toggle",Yt,{once:!0})},{capture:!0}),(0,c.on)("details-menu-selected",".js-runner-labels-details-list",function(e){e.currentTarget.addEventListener("toggle",eo,{once:!0})},{capture:!0}),(0,C.AC)(".js-saved-reply-delete",async function(e,t){await t.text();const o=e.closest(".js-saved-reply-container"),s=o.querySelectorAll(".js-saved-reply-list-item").length,n=o.querySelector(".js-saved-reply-list");n.hidden=s<=1;const r=o.querySelector(".js-saved-reply-empty-container");s===1&&(r.hidden=!1),e.closest(".js-saved-reply-list-item").remove()});var to=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,te=i((e,t,o,s)=>{for(var n=s>1?void 0:s?oo(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&to(t,o,n),n},"security_analysis_decorateClass");let X=i(class extends HTMLElement{toggle(){this.checkbox.checked?(this.status.hidden=!0,this.dialog.open=!0):(this.status.hidden=!1,(0,B.Bt)(this.form))}confirm(){this.status.hidden=!1,(0,B.Bt)(this.form),this.dialog.open=!1}close(){this.checkbox.checked=!1}},"AdvancedSecurityNewReposElement");te([l.fA],X.prototype,"checkbox",2),te([l.fA],X.prototype,"status",2),te([l.fA],X.prototype,"dialog",2),te([l.fA],X.prototype,"form",2),X=te([l.Ih],X);var at=y(70112),so=y(24519);function qe(){return document.querySelector(".js-add-u2f-registration-form")}i(qe,"u2fForm");const lt="data-webauthn-register-request";function Ae(e){var t;e.webauthn_register_request&&((t=qe())==null||t.setAttribute(lt,JSON.stringify(e.webauthn_register_request)))}i(Ae,"updateDataAttribute"),(0,C.AC)(".js-u2f-registration-delete",async function(e,t){const o=e.closest(".js-u2f-registration"),s=o.querySelector(".js-u2f-registration-delete-button");s?s.disabled=!0:o.classList.add("is-sending");const n=await t.json();if(Ae(n.json),o.remove(),s&&n.json.registered_trusted_devices_count===0){const r=document.querySelector(".js-add-u2f-registration");r.hidden=!1}}),(0,c.on)("click",".js-add-u2f-registration-link",function(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),document.querySelector(".js-u2f-registration-nickname-field").focus()});function Le(e){const t=document.querySelector(".js-new-u2f-registration");t.classList.add("is-showing-error"),t.classList.remove("is-sending");for(const n of t.querySelectorAll(".js-webauthn-message"))n.hidden=!0;const o=t.querySelector(".js-webauthn-registration-error");o.hidden=!1;const s=t.querySelector(".js-webauthn-registration-error-message");s.textContent=e!=null?e:""}i(Le,"webauthn_create_showError");function no(){document.querySelector(".js-new-u2f-registration").classList.remove("is-sending","is-active")}i(no,"resetForm");async function ro(e){if(!await(0,so.Z)())throw new Error("sudo failed");const o=document.querySelector(".js-add-u2f-registration-form");o.elements.namedItem("response").value=JSON.stringify(e);let s;try{if(s=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),!s.ok)throw new Error("Response was not ok");const n=await s.clone().json();Ae(n),no();const r=n.registration;if(r){const a=document.querySelector(".js-u2f-registrations");a?a.append((0,K.r)(document,r)):(document.querySelector(".js-u2f-registration-nickname-field").value=n.nickname||"",document.querySelector(".js-new-u2f-registration-success").hidden=!1,document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-new-u2f-registration-never-ask").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!0,document.querySelector(".js-trusted-device-continue").focus())}}catch{if(s){const r=await s.json();Ae(r),Le(r.error)}else Le()}}i(ro,"saveRegistration");function io(){const e=document.querySelector(".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}i(io,"showSpinner");async function co(){try{io();const e=JSON.parse(qe().getAttribute(lt)),t=await(0,at.Ue)(e);await ro(t)}catch(e){const o=qe().classList.contains("js-trusted-device-safari-workaround")&&e.name==="NotAllowedError";if(e.name==="InvalidStateError"||o)document.querySelector(".js-new-u2f-registration").hidden=!0,document.querySelector(".js-webauthn-confirm").hidden=!1,document.querySelector(".js-webauthn-confirm-button").focus();else throw Le(),e}}i(co,"waitForWebauthnDevice");function ut(){co()}i(ut,"attemptSecurityKeyRegistration"),(0,c.on)("click",".js-add-u2f-registration-retry",function(){ut()}),(0,F.N7)(".js-add-u2f-registration-form.for-trusted-device",{constructor:HTMLFormElement,add(e){e.hidden=!1,document.querySelector(".js-trusted-device-registration-button").focus()}}),(0,c.on)("submit",".js-add-u2f-registration-form",function(e){e.preventDefault(),ut()}),(0,F.N7)(".js-webauthn-box",function(e){e.classList.toggle("available",(0,at.Zh)())}),(0,c.on)("auto-check-success",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!1}),(0,c.on)("auto-check-send",".js-u2f-registration-nickname-field",function(){const e=document.querySelector(".js-trusted-device-continue");e.disabled=!0});var ao=Object.defineProperty,lo=Object.getOwnPropertyDescriptor,de=i((e,t,o,s)=>{for(var n=s>1?void 0:s?lo(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&ao(t,o,n),n},"selected_item_count_decorateClass");let oe=i(class extends HTMLElement{updateCount(e){this.selectedCount.textContent=String(e),this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}},"SelectedItemCountElement");de([l.fA],oe.prototype,"selectedCount",2),de([l.fA],oe.prototype,"pluralItemsDescription",2),de([l.fA],oe.prototype,"singularItemDescription",2),oe=de([l.Ih],oe);var uo=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,V=i((e,t,o,s)=>{for(var n=s>1?void 0:s?mo(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&uo(t,o,n),n},"selected_item_list_decorateClass");let N=i(class extends HTMLElement{connectedCallback(){var e;(e=this.includeFragment)==null||e.addEventListener("include-fragment-replaced",()=>{this.updateCount(),this.saveButton&&(this.saveButton.disabled=!1)})}get count(){return this.items.filter(e=>e.checked).length}updateCount(){const e=this.count;this.selectedCount.textContent=String(e),this.description.hidden=e<=0,this.pluralItemsDescription.hidden=e===1,this.singularItemDescription.hidden=e!==1}hideDescription(){this.description.hidden=!0}showDescription(){const e=this.count;this.description.hidden=e<=0}},"SelectedItemListElement");V([l.fA],N.prototype,"selectedCount",2),V([l.fA],N.prototype,"pluralItemsDescription",2),V([l.fA],N.prototype,"singularItemDescription",2),V([l.fA],N.prototype,"description",2),V([l.GO],N.prototype,"items",2),V([l.fA],N.prototype,"includeFragment",2),V([l.fA],N.prototype,"saveButton",2),N=V([l.Ih],N);function po(e){return new Promise(t=>{let o=performance.now();function s(){window.requestAnimationFrame(n=>{e(n-o)!==!1?(o=n,s()):t()})}i(s,"tick"),s()})}i(po,"animate");var fo=Object.defineProperty,ho=Object.getOwnPropertyDescriptor,D=i((e,t,o,s)=>{for(var n=s>1?void 0:s?ho(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&fo(t,o,n),n},"theme_picker_element_decorateClass");const xe=6;let I=i(class extends HTMLElement{constructor(){super(...arguments);this.scrolledPage=0}connectedCallback(){this.theme(this.themeLinks.find(e=>e.classList.contains("selected"))||this.themeLinks[0]),this.updateScrollLinks()}hideSpinner(){this.spinner.hidden=!0}onThemeLinkClick(e){this.theme(e.currentTarget),e.preventDefault()}toggleFullPicker(e){const t=e.currentTarget;this.fullPicker.hidden=!this.fullPicker.hidden,this.miniPicker.hidden=!this.fullPicker.hidden,this.scrollToTheme(this.theme(),!1),t.classList.toggle("open")}onEditClick(e){this.editForm&&(0,B.Bt)(this.editForm),e.preventDefault()}onPublishClick(e){var t;this.publishThemeSlugInput&&(this.publishThemeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.publishForm&&(0,B.Bt)(this.publishForm),e.preventDefault()}prevPage(){this.scrollToTheme(this.themeLinks[0]),this.updateScrollLinks()}nextPage(){this.scrollToTheme(this.themeLinks[xe]),this.updateScrollLinks()}updateScrollLinks(){const e=this.scrolledPage===0;this.scrollBackwardsLink.disabled=e,this.scrollBackwardsLink.classList.toggle("disabled",e),this.scrollForwardsLink.disabled=!e,this.scrollForwardsLink.classList.toggle("disabled",!e)}selectedThemeIndex(){return this.themeLinks.indexOf(this.selectedTheme)}prevTheme(e){let t=(this.selectedThemeIndex()-1)%this.themeLinks.length;t<0&&(t+=this.themeLinks.length),this.theme(this.themeLinks[t]),e.preventDefault()}nextTheme(e){this.theme(this.themeLinks[(this.selectedThemeIndex()+1)%this.themeLinks.length]),e.preventDefault()}scrollToTheme(e,t=!0){this.scrolledPage=Math.floor(this.themeLinks.indexOf(e)/xe);let o=0;this.scrolledPage>0&&(o=this.themeLinks[this.scrolledPage*xe].offsetLeft);const s=this.themeLinksContainer,n=o-s.scrollLeft;t&&n!==0?po(a=>{if(a<0)return;const g=s.scrollLeft;s.scrollLeft=Math[o-g>0?"min":"max"](g+n*(a/150),o);const p=s.scrollLeft;if(g===p)return!1}):s.scrollLeft=o}theme(e){if(e){this.selectedTheme=e,this.showPreviewFor(e);for(const t of this.themeLinks)t.classList.remove("selected");e.classList.add("selected"),this.scrollToTheme(e),this.themeName.textContent=e.getAttribute("data-theme-name")}else return this.selectedTheme}showPreviewFor(e){var t;this.spinner.hidden=!1,e.getAttribute("data-theme-gem")?this.pagePreview.setAttribute("src",e.href):(this.themeSlugInput&&(this.themeSlugInput.value=((t=this.theme())==null?void 0:t.getAttribute("data-theme-slug"))||""),this.previewForm&&(0,B.Bt)(this.previewForm))}},"ThemePickerElement");D([l.fA],I.prototype,"pagePreview",2),D([l.fA],I.prototype,"spinner",2),D([l.fA],I.prototype,"fullPicker",2),D([l.fA],I.prototype,"miniPicker",2),D([l.fA],I.prototype,"themeName",2),D([l.fA],I.prototype,"scrollBackwardsLink",2),D([l.fA],I.prototype,"scrollForwardsLink",2),D([l.fA],I.prototype,"themeLinksContainer",2),D([l.GO],I.prototype,"themeLinks",2),D([l.fA],I.prototype,"themeSlugInput",2),D([l.fA],I.prototype,"editForm",2),D([l.fA],I.prototype,"publishForm",2),D([l.fA],I.prototype,"publishThemeSlugInput",2),D([l.fA],I.prototype,"previewForm",2),I=D([l.Ih],I),(0,c.on)("upload:setup",".js-upload-repository-image",function(){document.querySelector(".js-remove-repository-image-button").hidden=!0}),(0,c.on)("upload:complete",".js-upload-repository-image",function(e){const{attachment:t}=e.detail;document.querySelector(".js-repository-image-id").value=t.id,document.querySelector(".js-remove-repository-image-button").hidden=!1,document.querySelector(".js-repository-image-container").style.backgroundImage=`url(${t.href})`});function _e(e,t){const o=e.querySelector(".js-add-new-user");o.disabled=!t}i(_e,"resetUserAddForm"),(0,F.N7)(".js-add-user-form",function(e){_e(e,!1)}),(0,c.on)("auto-complete-change",".js-add-user-completer",function({target:e}){const t=e,o=t.closest(".js-add-user-form");_e(o,!!t.value);const s=document.querySelector(".js-designated-user");s&&(t.value?s.textContent=`@${t.value}`:s.textContent=s.getAttribute("data-autocomplete-text"))}),(0,C.AC)(".js-remote-submit",async function(e,t){const o=await t.html(),s=document.querySelector(".js-user-block-settings-list"),n=s.querySelector(".js-blocked-list"),r=s.querySelector(".js-user-block-blank-slate");_e(e,!1);const a=e.querySelector(".js-add-blocked-user-field");(0,B.Se)(a,""),r.hidden=!0,n.hidden=!1,n.prepend(o.html)}),(0,C.AC)(".js-user-sessions-revoke",async function(e,t){await t.text();const o=e.closest(".js-user-sessions-container");if(e.closest(".js-user-session").remove(),o){const n=o.querySelectorAll(".js-user-session").length;o.classList.toggle("has-active-sessions",n>0)}});var go=Object.defineProperty,yo=Object.getOwnPropertyDescriptor,se=i((e,t,o,s)=>{for(var n=s>1?void 0:s?yo(t,o):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(n=(s?a(t,o,n):a(n))||n);return s&&n&&go(t,o,n),n},"default_location_setting_element_decorateClass");let Q=i(class extends HTMLElement{async changeManuallySelected(){this.manualRadioButton.checked&&(this.regionSelect.disabled=!1,this.regionSelect.value!==""&&await this.regionSelected())}async changeAutoSelected(){this.autoRadioButton.checked&&(this.regionSelect.disabled=!0,await this.submitSelectedRegion(null))}async regionSelected(){const e=this.regionSelect.value;await this.submitSelectedRegion(e)}async submitSelectedRegion(e){const t=new FormData(this.locationForm);e!==null&&t.append("codespace_default_location",e);const o=await fetch(this.locationForm.action,{method:this.locationForm.method,body:t,headers:{Accept:"text/fragment+html","X-Requested-With":"XMLHttpRequest"}}),s=(0,K.r)(document,await o.text());this.closest(".js-default-location-setting-container").replaceWith(s)}},"DefaultLocationSettingElement");se([l.fA],Q.prototype,"manualRadioButton",2),se([l.fA],Q.prototype,"regionSelect",2),se([l.fA],Q.prototype,"locationForm",2),se([l.fA],Q.prototype,"autoRadioButton",2),Q=se([l.Ih],Q),(0,C.AC)(".js-verify-ssh-key",async function(e,t){await t.html();const o=e.closest("li");o.querySelector(".js-unverified-user-key-notice").remove(),o.querySelector(".js-user-key-icon").classList.remove("color-fg-danger"),e.remove()}),(0,C.AC)(".js-leave-collaborated-repo",async function(e,t){await t.html();const o=e.getAttribute("data-repo-id"),s=e.getAttribute("data-owner-login");document.querySelector(`.js-collab-repo[data-repo-id='${o}']`).remove(),document.querySelector(".js-collab-repo")||(document.querySelector(".js-collaborated-repos-empty").hidden=!1,document.querySelector(".js-collaborated-repos").hidden=!0);const n=document.querySelector(`.js-collab-repo-owner[data-owner-login='${s}']`);n&&(n.querySelector(".js-collab-repo")||n.remove())}),(0,c.on)("submit",".js-codespaces-user-settings-form",async e=>{const t=e.currentTarget;e.preventDefault();const o=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"text/fragment+html"}});if(o.status>=400){const s="An unknown error occurred.",n=document.querySelector("template.js-flash-template");n.after(new Ce.R(n,{className:"flash-error",message:s}))}else{const s=t.closest("[data-replace-remote-form-target]"),n=(0,K.r)(document,await o.text());s.replaceWith(n)}}),(0,c.on)("click",".js-codespaces-user-secrets-form input[name=repo]",async e=>{const t=e.currentTarget,o=t.closest("form");if(!o.querySelector(`[name="codespaces_user_secret[repository_ids][]"][value="${t.value}"]`)){const s=t.closest(".select-menu-item-text").querySelector("[data-menu-button-contents]").textContent;if(s&&t.value){const n=bo(s,t.value);o.querySelector('[data-target="selected-repositories.repositories"]').append(n)}dt(e)}t.closest("details").removeAttribute("open"),e.preventDefault()}),(0,c.on)("change",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[repository_ids][]"]',dt);function bo(e,t){const o=document.createElement("li");o.className="css-truncate d-flex flex-items-center width-full";const s=document.createElement("input");s.className="repository-item-checkbox js-repository-item-checkbox mx-2 position-absolute",s.type="checkbox",s.name="codespaces_user_secret[repository_ids][]",s.value=t,s.id=`user-secret-repo-${t}`,s.checked=!0,o.append(s);const n=document.createElement("label");return n.className="repository-item-name d-flex flex-items-center width-full color-fg-default py-1 pr-1 pl-5",n.setAttribute("for",`user-secret-repo-${t}`),n.title=e,n.textContent=e,o.append(n),o}i(bo,"createRepositoryRow");function dt(e){const o=e.currentTarget.closest("form"),s=o.querySelectorAll('[name="codespaces_user_secret[repository_ids][]"]:checked').length;o.querySelector('[data-target="selected-repositories.plural"]').hidden=s===1,o.querySelector('[data-target="selected-repositories.singular"]').hidden=s!==1,o.querySelector('[data-target="selected-repositories.count"]').textContent=String(s),o.querySelector('[data-target="selected-repositories.active-warning"]').hidden=s!==0}i(dt,"user_settings_updateSelectedRepositoryCount"),(0,c.on)("focusout",'.js-codespaces-user-secrets-form input[name="codespaces_user_secret[name]"]',e=>{const t=e.currentTarget,o=t.value,s=new RegExp("^(?!github).+","i"),n=t.closest("div.form-group");s.test(o)?(t.setCustomValidity(""),n.classList.remove("errored")):(t.setCustomValidity('Secret names cannot start with "GITHUB"'),n.classList.add("errored")),t.closest("form").dispatchEvent(new Event("change"))}),(0,c.on)("focusout",'.js-codespaces-user-secrets-form textarea[name="secret_value"]',e=>{const t=e.currentTarget,o=t.value,s=t.closest("div.form-group");o.trim()===""?s.classList.add("errored"):s.classList.remove("errored")}),(0,c.on)("change",".js-default-token-expiration-select",function(e){const t=e.target,o=document.getElementById("custom-expires-wrapper"),s=document.querySelector("#custom-expires-wrapper .form-select"),n=document.getElementById("token-expiration"),r=document.getElementById("expiration-helper-note"),a=document.getElementById("no-expiration-warning"),g=r.querySelector(".note");if(t&&s)if(t.value==="custom")r.setAttribute("hidden","hidden"),a.setAttribute("hidden","hidden"),o.removeAttribute("hidden");else{o.setAttribute("hidden","hidden"),s.value="",r.removeAttribute("hidden"),n.classList.remove("errored"),t.value==="none"?a.removeAttribute("hidden"):a.setAttribute("hidden","hidden");const p=t.selectedIndex,T=t.children[p].getAttribute("data-human-date");T&&(g.textContent=T)}}),(0,c.on)("click","#load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer"),s=document.querySelector("#undo-load-readme"),n=o.textContent,r=e.currentTarget.getAttribute("data-readme-name");if(mt(t,o),!(e.currentTarget instanceof HTMLButtonElement))return;e.currentTarget.disabled=!0,e.currentTarget.textContent=`${r} loaded`,s.classList.remove("d-none");function a(){t.value!==n&&(s.classList.add("d-none"),t.removeEventListener("input",a))}i(a,"hideUndoLinkIfChanged"),t.addEventListener("input",a)}),(0,c.on)("click","#undo-load-readme",function(e){const t=document.querySelector("#gollum-editor-body"),o=document.querySelector("#editor-body-buffer");mt(t,o);const s=document.querySelector("#load-readme"),n=s.getAttribute("data-readme-name");s.disabled=!1,s.textContent=`Load ${n}`,e.currentTarget.classList.add("d-none")});function mt(e,t){const o=e.value;e.value=t.textContent||"",t.textContent=o}i(mt,"swapEditorAndBufferValues");var ko=y(18589),wo=y(5909)}},M=>{var P=i(l=>M(M.s=l),"__webpack_exec__");M.O(0,[5724,93,8932,6852,4569],()=>P(21917));var y=M.O()}]);})();

//# sourceMappingURL=settings-12e8729ca655.js.map